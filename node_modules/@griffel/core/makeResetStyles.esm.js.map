{"version":3,"file":"makeResetStyles.esm.js","sources":["../../../packages/core/src/makeResetStyles.ts"],"sourcesContent":["import type { GriffelResetStyle } from '@griffel/style-types';\n\nimport { DEBUG_RESET_CLASSES } from './constants';\nimport { insertionFactory } from './insertionFactory';\nimport { resolveResetStyleRules } from './runtime/resolveResetStyleRules';\nimport type { CSSRulesByBucket, GriffelRenderer, GriffelInsertionFactory } from './types';\n\nexport interface MakeResetStylesOptions {\n  dir: 'ltr' | 'rtl';\n  renderer: GriffelRenderer;\n}\n\nexport function makeResetStyles(styles: GriffelResetStyle, factory: GriffelInsertionFactory = insertionFactory) {\n  const insertStyles = factory();\n\n  let ltrClassName: string | null = null;\n  let rtlClassName: string | null = null;\n\n  let cssRules: CSSRulesByBucket | string[] | null = null;\n\n  function computeClassName(options: MakeResetStylesOptions): string {\n    const { dir, renderer } = options;\n\n    if (ltrClassName === null) {\n      [ltrClassName, rtlClassName, cssRules] = resolveResetStyleRules(styles);\n    }\n\n    insertStyles(renderer, Array.isArray(cssRules) ? { r: cssRules! } : cssRules!);\n\n    const className = dir === 'ltr' ? ltrClassName : rtlClassName || ltrClassName;\n\n    if (process.env.NODE_ENV !== 'production') {\n      DEBUG_RESET_CLASSES[className] = 1;\n    }\n\n    return className;\n  }\n\n  return computeClassName;\n}\n"],"names":["makeResetStyles","styles","factory","insertionFactory","insertStyles","ltrClassName","rtlClassName","cssRules","computeClassName","options","dir","renderer","resolveResetStyleRules","Array","isArray","r","className","process","env","NODE_ENV","DEBUG_RESET_CLASSES"],"mappings":";;;;AAYO,SAASA,eAAeA,CAACC,MAAyB,EAAEC,OAAgC,GAAGC,gBAAgB,EAAE;AAC9G,EAAA,MAAMC,YAAY,GAAGF,OAAO,EAAE,CAAA;EAE9B,IAAIG,YAA2B,GAAG,IAAI,CAAA;EACtC,IAAIC,YAA2B,GAAG,IAAI,CAAA;EAEtC,IAAIC,QAA4C,GAAG,IAAI,CAAA;EAEvD,SAASC,gBAAgBA,CAACC,OAA+B,EAAU;IACjE,MAAM;MAAEC,GAAG;AAAEC,MAAAA,QAAAA;AAAS,KAAC,GAAGF,OAAO,CAAA;IAEjC,IAAIJ,YAAY,KAAK,IAAI,EAAE;MACzB,CAACA,YAAY,EAAEC,YAAY,EAAEC,QAAQ,CAAC,GAAGK,sBAAsB,CAACX,MAAM,CAAC,CAAA;AACzE,KAAA;IAEAG,YAAY,CAACO,QAAQ,EAAEE,KAAK,CAACC,OAAO,CAACP,QAAQ,CAAC,GAAG;AAAEQ,MAAAA,CAAC,EAAER,QAAAA;KAAW,GAAGA,QAAS,CAAC,CAAA;IAE9E,MAAMS,SAAS,GAAGN,GAAG,KAAK,KAAK,GAAGL,YAAY,GAAGC,YAAY,IAAID,YAAY,CAAA;AAE7E,IAAA,IAAIY,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;AACzCC,MAAAA,mBAAmB,CAACJ,SAAS,CAAC,GAAG,CAAC,CAAA;AACpC,KAAA;AAEA,IAAA,OAAOA,SAAS,CAAA;AAClB,GAAA;AAEA,EAAA,OAAOR,gBAAgB,CAAA;AACzB;;;;"}