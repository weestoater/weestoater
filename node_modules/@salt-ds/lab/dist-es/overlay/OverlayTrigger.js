import { jsx, Fragment } from 'react/jsx-runtime';
import { isValidElement, cloneElement } from 'react';
import { useForkRef, mergeProps } from '@salt-ds/core';
import { useOverlayContext } from './OverlayContext.js';

function OverlayTrigger(props) {
  const { children } = props;
  const { reference, getReferenceProps } = useOverlayContext();
  const triggerRef = useForkRef(
    isValidElement(children) ? children.ref : null,
    reference
  );
  if (!children || !isValidElement(children)) {
    return /* @__PURE__ */ jsx(Fragment, {
      children
    });
  }
  return /* @__PURE__ */ jsx(Fragment, {
    children: cloneElement(children, {
      ...mergeProps(getReferenceProps(), children.props),
      ref: triggerRef
    })
  });
}

export { OverlayTrigger };
//# sourceMappingURL=OverlayTrigger.js.map
