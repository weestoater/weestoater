{"version":3,"file":"useRefsManager.js","sources":["../src/cascading-menu/internal/useRefsManager.ts"],"sourcesContent":["import { useReducer, useRef, useCallback, useMemo } from \"react\";\n\nexport type refsManager = {\n  get: (key: string) => HTMLElement | undefined;\n  set: (key: string, ref: HTMLElement) => void;\n  values: () => HTMLElement[];\n};\n\nexport function useRefsManager(): refsManager {\n  const refs = useRef(new Map<string, HTMLElement>());\n  const [, forceUpdate] = useReducer((x) => !x, false);\n\n  const get = useCallback((key: string) => refs.current.get(key), []);\n\n  const set = useCallback((key: string, value: HTMLElement) => {\n    refs.current.set(key, value);\n    forceUpdate();\n  }, []);\n\n  const values = useCallback(() => {\n    const vals: HTMLElement[] = [];\n    refs.current.forEach((value) => vals.push(value));\n    return vals;\n  }, []);\n\n  return useMemo(() => ({ get, set, values }), [get, set, values]);\n}\n"],"names":[],"mappings":";;AAQO,SAAS,cAA8B,GAAA;AAC5C,EAAA,MAAM,IAAO,GAAA,MAAA,iBAAW,IAAA,GAAA,EAA0B,CAAA,CAAA;AAClD,EAAM,MAAA,GAAG,WAAW,CAAA,GAAI,WAAW,CAAC,CAAA,KAAM,CAAC,CAAA,EAAG,KAAK,CAAA,CAAA;AAEnD,EAAM,MAAA,GAAA,GAAM,WAAY,CAAA,CAAC,GAAgB,KAAA,IAAA,CAAK,QAAQ,GAAI,CAAA,GAAG,CAAG,EAAA,EAAE,CAAA,CAAA;AAElE,EAAA,MAAM,GAAM,GAAA,WAAA,CAAY,CAAC,GAAA,EAAa,KAAuB,KAAA;AAC3D,IAAK,IAAA,CAAA,OAAA,CAAQ,GAAI,CAAA,GAAA,EAAK,KAAK,CAAA,CAAA;AAC3B,IAAY,WAAA,EAAA,CAAA;AAAA,GACd,EAAG,EAAE,CAAA,CAAA;AAEL,EAAM,MAAA,MAAA,GAAS,YAAY,MAAM;AAC/B,IAAA,MAAM,OAAsB,EAAC,CAAA;AAC7B,IAAA,IAAA,CAAK,QAAQ,OAAQ,CAAA,CAAC,UAAU,IAAK,CAAA,IAAA,CAAK,KAAK,CAAC,CAAA,CAAA;AAChD,IAAO,OAAA,IAAA,CAAA;AAAA,GACT,EAAG,EAAE,CAAA,CAAA;AAEL,EAAO,OAAA,OAAA,CAAQ,OAAO,EAAE,GAAK,EAAA,GAAA,EAAK,MAAO,EAAA,CAAA,EAAI,CAAC,GAAA,EAAK,GAAK,EAAA,MAAM,CAAC,CAAA,CAAA;AACjE;;;;"}