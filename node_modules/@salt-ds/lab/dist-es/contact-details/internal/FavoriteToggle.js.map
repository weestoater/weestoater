{"version":3,"file":"FavoriteToggle.js","sources":["../src/contact-details/internal/FavoriteToggle.tsx"],"sourcesContent":["import { useControlled, useForkRef, useIsFocusVisible } from \"@salt-ds/core\";\nimport React, {\n  FocusEventHandler,\n  forwardRef,\n  KeyboardEventHandler,\n  MouseEventHandler,\n  useState,\n} from \"react\";\nimport { StarIconContainer, StarIconContainerProps } from \"./StarIconContainer\";\n\nexport interface FavoriteToggleProps\n  extends Omit<StarIconContainerProps, \"onChange\"> {\n  onBlur?: FocusEventHandler;\n  onChange?: (isSelected: boolean) => void;\n  onClick?: (event: React.MouseEvent<HTMLSpanElement>) => void;\n  onFocus?: FocusEventHandler;\n  onKeyDown?: KeyboardEventHandler<HTMLSpanElement>;\n  onMouseEnter?: MouseEventHandler<HTMLSpanElement>;\n  onMouseLeave?: MouseEventHandler<HTMLSpanElement>;\n}\n\nexport const FavoriteToggle = forwardRef<HTMLSpanElement, FavoriteToggleProps>(\n  function FavoriteToggle(props, ref) {\n    const {\n      isSelected: isSelectedProp,\n      onBlur: onBlurProp,\n      onFocus: onFocusProp,\n      onClick: onClickProp,\n      onChange: onChangeProp,\n      onMouseEnter: onMouseEnterProp,\n      onMouseLeave: onMouseLeaveProp,\n      onKeyDown: onKeyDownProp,\n      ...restProps\n    } = props;\n\n    const {\n      isFocusVisibleRef,\n      ref: focusVisibleRef,\n      onFocus,\n      onBlur,\n    } = useIsFocusVisible<HTMLSpanElement>();\n\n    const [isFocused, setIsFocused] = useState(false);\n    const [isHighlighted, setIsHighlighted] = useState(false);\n    const [isFocusVisible, setIsFocusVisible] = useState(false);\n\n    const [isSelected, setIsSelected] = useControlled({\n      controlled: isSelectedProp,\n      default: false,\n      name: \"FavoriteToggle\",\n      state: \"isSelected\",\n    });\n\n    const toggleSelected = () => {\n      setIsSelected((s) => !s);\n      if (onChangeProp) {\n        onChangeProp(!isSelected);\n      }\n    };\n\n    const handleFocus: FocusEventHandler<HTMLSpanElement> = (event) => {\n      if (onFocusProp) {\n        onFocusProp(event);\n      }\n      onFocus(event);\n      setIsFocused(true);\n      setIsFocusVisible(isFocusVisibleRef.current);\n    };\n\n    const handleBlur: FocusEventHandler<HTMLSpanElement> = (event) => {\n      if (onBlurProp) {\n        onBlurProp(event);\n      }\n      onBlur();\n      setIsFocused(false);\n      setIsFocusVisible(false);\n    };\n\n    const handleClick: React.MouseEventHandler<HTMLSpanElement> = (event) => {\n      if (onClickProp) {\n        onClickProp(event);\n      }\n      setIsFocusVisible(isFocusVisibleRef.current);\n      toggleSelected();\n    };\n\n    const handleMouseEnter: React.MouseEventHandler<HTMLSpanElement> = (\n      event\n    ) => {\n      if (onMouseEnterProp) {\n        onMouseEnterProp(event);\n      }\n      setIsHighlighted(true);\n    };\n\n    const handleMouseLeave: React.MouseEventHandler<HTMLSpanElement> = (\n      event\n    ) => {\n      if (onMouseLeaveProp) {\n        onMouseLeaveProp(event);\n      }\n      setIsHighlighted(false);\n    };\n\n    const handleKeyDown: KeyboardEventHandler<HTMLSpanElement> = (event) => {\n      if (onKeyDownProp) {\n        onKeyDownProp(event);\n      }\n      setIsFocusVisible(isFocusVisibleRef.current);\n\n      if ([\"Enter\", \" \"].includes(event.key)) {\n        toggleSelected();\n      }\n    };\n\n    return (\n      <StarIconContainer\n        isFocusVisible={isFocusVisible}\n        isFocused={isFocused}\n        isHighlighted={isHighlighted}\n        isSelected={isSelected}\n        onBlur={handleBlur}\n        onClick={handleClick}\n        onFocus={handleFocus}\n        onKeyDown={handleKeyDown}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        ref={useForkRef(focusVisibleRef, ref)}\n        tabIndex={0}\n        {...restProps}\n      />\n    );\n  }\n);\n"],"names":["FavoriteToggle"],"mappings":"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"}