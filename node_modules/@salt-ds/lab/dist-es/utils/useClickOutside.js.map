{"version":3,"file":"useClickOutside.js","sources":["../src/utils/useClickOutside.ts"],"sourcesContent":["import { useRef, useEffect, Ref } from \"react\";\n\nconst defaultTriggerEvents: MouseEvents[] = [\"mousedown\"];\n\ntype MouseEvents = keyof {\n  [K in keyof GlobalEventHandlersEventMap as GlobalEventHandlersEventMap[K] extends MouseEvent\n    ? K\n    : never]: GlobalEventHandlersEventMap[K];\n};\n\nexport function useClickOutside<Element extends HTMLElement>(\n  handler: () => void,\n  triggerEvents?: MouseEvents[],\n  containers?: HTMLElement[]\n): Ref<Element> {\n  const ref = useRef<Element>(null);\n\n  useEffect(() => {\n    const handleEvent = (event: MouseEvent) => {\n      if (Array.isArray(containers)) {\n        const shouldCallHandler = containers.every((node) => {\n          return !node?.contains(event.target as Node);\n        });\n        shouldCallHandler && handler();\n      } else if (!ref.current?.contains(event.target as Node)) {\n        handler();\n      }\n    };\n\n    const events = triggerEvents ?? defaultTriggerEvents;\n\n    events.forEach((event) => {\n      document.addEventListener(event, handleEvent);\n    });\n\n    return () => {\n      events.forEach((event) => {\n        document.removeEventListener(event, handleEvent);\n      });\n    };\n  }, [handler, containers, triggerEvents]);\n\n  return ref;\n}\n"],"names":[],"mappings":";;AAEA,MAAM,oBAAA,GAAsC,CAAC,WAAW,CAAA,CAAA;AAQxC,SAAA,eAAA,CACd,OACA,EAAA,aAAA,EACA,UACc,EAAA;AACd,EAAM,MAAA,GAAA,GAAM,OAAgB,IAAI,CAAA,CAAA;AAEhC,EAAA,SAAA,CAAU,MAAM;AACd,IAAM,MAAA,WAAA,GAAc,CAAC,KAAsB,KAAA;AAlB/C,MAAA,IAAA,EAAA,CAAA;AAmBM,MAAI,IAAA,KAAA,CAAM,OAAQ,CAAA,UAAU,CAAG,EAAA;AAC7B,QAAA,MAAM,iBAAoB,GAAA,UAAA,CAAW,KAAM,CAAA,CAAC,IAAS,KAAA;AACnD,UAAO,OAAA,EAAC,IAAM,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,IAAA,CAAA,QAAA,CAAS,KAAM,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA,SAC9B,CAAA,CAAA;AACD,QAAA,iBAAA,IAAqB,OAAQ,EAAA,CAAA;AAAA,iBACpB,EAAC,CAAA,EAAA,GAAA,GAAA,CAAI,YAAJ,IAAa,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,QAAA,CAAS,MAAM,MAAiB,CAAA,CAAA,EAAA;AACvD,QAAQ,OAAA,EAAA,CAAA;AAAA,OACV;AAAA,KACF,CAAA;AAEA,IAAA,MAAM,SAAS,aAAiB,IAAA,IAAA,GAAA,aAAA,GAAA,oBAAA,CAAA;AAEhC,IAAO,MAAA,CAAA,OAAA,CAAQ,CAAC,KAAU,KAAA;AACxB,MAAS,QAAA,CAAA,gBAAA,CAAiB,OAAO,WAAW,CAAA,CAAA;AAAA,KAC7C,CAAA,CAAA;AAED,IAAA,OAAO,MAAM;AACX,MAAO,MAAA,CAAA,OAAA,CAAQ,CAAC,KAAU,KAAA;AACxB,QAAS,QAAA,CAAA,mBAAA,CAAoB,OAAO,WAAW,CAAA,CAAA;AAAA,OAChD,CAAA,CAAA;AAAA,KACH,CAAA;AAAA,GACC,EAAA,CAAC,OAAS,EAAA,UAAA,EAAY,aAAa,CAAC,CAAA,CAAA;AAEvC,EAAO,OAAA,GAAA,CAAA;AACT;;;;"}