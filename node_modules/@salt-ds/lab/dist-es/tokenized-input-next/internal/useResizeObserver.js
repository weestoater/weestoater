import { useIsomorphicLayoutEffect } from '@salt-ds/core';
import { useRef, useEffect } from 'react';

function useResizeObserver(onSizeChange) {
  const ref = useRef(null);
  useEffect(() => {
    if (!ref.current) {
      return void 0;
    }
    const observer = new ResizeObserver(onSizeChange);
    observer.observe(ref.current);
    return () => {
      observer.disconnect();
    };
  }, [onSizeChange]);
  useIsomorphicLayoutEffect(() => {
    if (ref.current) {
      onSizeChange([
        {
          target: ref.current,
          contentRect: ref.current.getBoundingClientRect(),
          borderBoxSize: [],
          contentBoxSize: [],
          devicePixelContentBoxSize: []
        }
      ]);
    }
  }, [onSizeChange]);
  return ref;
}

export { useResizeObserver };
//# sourceMappingURL=useResizeObserver.js.map
