import { useContext, useRef } from 'react';
import { useIsomorphicLayoutEffect } from '@salt-ds/core';
import { DescendantContext } from './DescendantContext.js';

function useDescendant(descendant) {
  const { assigning, setItems } = useContext(DescendantContext);
  const index = useRef(-1);
  useIsomorphicLayoutEffect(() => {
    if ((assigning == null ? void 0 : assigning.current) && setItems) {
      setItems((old) => {
        index.current = old.length;
        return old.concat(descendant);
      });
    }
  });
  return index.current;
}

export { useDescendant };
//# sourceMappingURL=useDescendant.js.map
