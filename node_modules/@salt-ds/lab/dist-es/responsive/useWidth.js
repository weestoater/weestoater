import { useState, useRef, useCallback } from 'react';
import { useIsomorphicLayoutEffect } from '@salt-ds/core';
import { useResizeObserver, WidthOnly } from './useResizeObserver.js';

const NONE = [];
function useWidth(responsive) {
  const [width, setWidth] = useState();
  const ref = useRef(null);
  const handleResize = useCallback(({ width: newWidth }) => {
    setWidth(newWidth);
  }, []);
  const measurementsToObserve = responsive ? WidthOnly : NONE;
  useResizeObserver(ref, measurementsToObserve, handleResize);
  useIsomorphicLayoutEffect(() => {
    if (!ref.current) {
      return void 0;
    }
    handleResize(ref.current.getBoundingClientRect());
  }, [handleResize, responsive]);
  return [ref, width];
}

export { useWidth };
//# sourceMappingURL=useWidth.js.map
