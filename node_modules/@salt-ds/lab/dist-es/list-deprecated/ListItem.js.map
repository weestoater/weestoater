{"version":3,"file":"ListItem.js","sources":["../src/list-deprecated/ListItem.tsx"],"sourcesContent":["import { forwardRef, ForwardedRef, ReactElement } from \"react\";\n\nimport { isPlainObject } from \"./internal/helpers\";\nimport { useDescendant } from \"./internal/DescendantContext\";\nimport { useListItem } from \"./useListItem\";\nimport { ListItemBase, ListItemBaseProps } from \"./ListItemBase\";\n\nexport interface ListItemProps<Item = string>\n  extends Omit<\n    ListItemBaseProps,\n    \"focusVisible\" | \"highlighted\" | \"selected\" | \"tooltipText\"\n  > {\n  item?: Item;\n  itemToString?: (item: Item) => string;\n}\n\nfunction ListItem<Item = string>(\n  props: ListItemProps<Item>,\n  ref?: ForwardedRef<HTMLDivElement>\n) {\n  const {\n    children,\n    item = props.item === undefined && !isPlainObject(children)\n      ? (children as unknown as Item)\n      : props.item,\n    ...restProps\n  } = props;\n\n  const { itemToString, itemProps } = useListItem({\n    index: useDescendant(item),\n    item,\n    ...restProps,\n  });\n\n  //TODO how can we type Item when child can be any React Node\n  const itemText = itemToString(item as any);\n\n  return (\n    <ListItemBase tooltipText={itemText} {...itemProps} ref={ref}>\n      {children !== undefined ? children : itemText}\n    </ListItemBase>\n  );\n}\n\n// `const` could not be generic, but we has to use `forwardRef` so that React would use the component correctly..?\n// So we have to override the type definition of forwardRef to be our own\ntype GenericListItem = <Item = string>(\n  p: ListItemProps<Item> & { ref?: ForwardedRef<HTMLDivElement> }\n) => ReactElement<ListItemProps<Item>>;\n\nconst _ListItem = forwardRef(ListItem) as GenericListItem;\n\nexport { _ListItem as ListItem };\n"],"names":[],"mappings":";;;;;;;AAgBA,SAAS,QAAA,CACP,OACA,GACA,EAAA;AACA,EAAM,MAAA;AAAA,IACJ,QAAA;AAAA,IACA,IAAA,GAAO,MAAM,IAAS,KAAA,KAAA,CAAA,IAAa,CAAC,aAAc,CAAA,QAAQ,CACrD,GAAA,QAAA,GACD,KAAM,CAAA,IAAA;AAAA,IACP,GAAA,SAAA;AAAA,GACD,GAAA,KAAA,CAAA;AAEJ,EAAA,MAAM,EAAE,YAAA,EAAc,SAAU,EAAA,GAAI,WAAY,CAAA;AAAA,IAC9C,KAAA,EAAO,cAAc,IAAI,CAAA;AAAA,IACzB,IAAA;AAAA,IACA,GAAG,SAAA;AAAA,GACJ,CAAA,CAAA;AAGD,EAAM,MAAA,QAAA,GAAW,aAAa,IAAW,CAAA,CAAA;AAEzC,EAAA,uBACG,GAAA,CAAA,YAAA,EAAA;AAAA,IAAa,WAAa,EAAA,QAAA;AAAA,IAAW,GAAG,SAAA;AAAA,IAAW,GAAA;AAAA,IACjD,QAAA,EAAA,QAAA,KAAa,SAAY,QAAW,GAAA,QAAA;AAAA,GACvC,CAAA,CAAA;AAEJ,CAAA;AAQM,MAAA,SAAA,GAAY,WAAW,QAAQ;;;;"}