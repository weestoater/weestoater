'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');

const NO_HANDLERS = [];
const useClickAway = ({
  popperRef,
  rootRef,
  isOpen,
  onClose
}) => {
  React.useEffect(() => {
    const [clickHandler, escapeKeyHandler] = isOpen ? [
      (evt) => {
        var _a, _b;
        const targetElement = evt.target;
        if (!((_a = popperRef.current) == null ? void 0 : _a.contains(targetElement)) && !((_b = rootRef.current) == null ? void 0 : _b.contains(targetElement))) {
          onClose();
        }
      },
      (e) => {
        if (e.key === "Escape") {
          onClose();
        }
      }
    ] : NO_HANDLERS;
    if (clickHandler && escapeKeyHandler) {
      document.body.addEventListener("mousedown", clickHandler, true);
      document.body.addEventListener("keydown", escapeKeyHandler, true);
    }
    return () => {
      if (clickHandler && escapeKeyHandler) {
        document.body.removeEventListener("mousedown", clickHandler, true);
        document.body.removeEventListener("keydown", escapeKeyHandler, true);
      }
    };
  }, [isOpen, onClose]);
};

exports.useClickAway = useClickAway;
//# sourceMappingURL=useClickAway.js.map
