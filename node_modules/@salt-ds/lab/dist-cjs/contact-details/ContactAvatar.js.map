{"version":3,"file":"ContactAvatar.js","sources":["../src/contact-details/ContactAvatar.tsx"],"sourcesContent":["import { forwardRef, useEffect } from \"react\";\nimport { makePrefixer, Avatar, AvatarProps } from \"@salt-ds/core\";\nimport { useContactDetailsContext } from \"./internal\";\nimport { clsx } from \"clsx\";\n\nconst withBaseName = makePrefixer(\"saltContactAvatar\");\n\nexport type ContactAvatarProps = AvatarProps;\n\nexport const ContactAvatar = forwardRef<HTMLDivElement, ContactAvatarProps>(\n  function (props, ref) {\n    const { className, ...restProps } = props;\n    const context = useContactDetailsContext();\n    const { variant, primary, isStacked, setHasAvatar } = context;\n\n    useEffect(() => {\n      setHasAvatar(true);\n      return () => {\n        setHasAvatar(false);\n      };\n    }, [setHasAvatar]);\n\n    if (variant === \"mini\") {\n      return null;\n    }\n\n    const avatarSize = variant === \"default\" ? 3 : 2;\n    return (\n      <Avatar\n        {...restProps}\n        ref={ref}\n        aria-hidden={true}\n        className={clsx(\n          withBaseName(),\n          {\n            [withBaseName(\"stacked\")]: isStacked,\n          },\n          className\n        )}\n        size={avatarSize}\n      >\n        {primary\n          ? primary\n              .split(\" \")\n              .map((x) => x.charAt(0))\n              .slice(0, 2)\n          : null}\n      </Avatar>\n    );\n  }\n);\n"],"names":["makePrefixer","forwardRef","useContactDetailsContext","useEffect","jsx","Avatar","clsx"],"mappings":";;;;;;;;;;;AAKA,MAAM,YAAA,GAAeA,kBAAa,mBAAmB,CAAA,CAAA;AAI9C,MAAM,aAAgB,GAAAC,gBAAA;AAAA,EAC3B,SAAU,OAAO,GAAK,EAAA;AACpB,IAAM,MAAA,EAAE,SAAc,EAAA,GAAA,SAAA,EAAc,GAAA,KAAA,CAAA;AACpC,IAAA,MAAM,UAAUC,8CAAyB,EAAA,CAAA;AACzC,IAAA,MAAM,EAAE,OAAA,EAAS,OAAS,EAAA,SAAA,EAAW,cAAiB,GAAA,OAAA,CAAA;AAEtD,IAAAC,eAAA,CAAU,MAAM;AACd,MAAA,YAAA,CAAa,IAAI,CAAA,CAAA;AACjB,MAAA,OAAO,MAAM;AACX,QAAA,YAAA,CAAa,KAAK,CAAA,CAAA;AAAA,OACpB,CAAA;AAAA,KACF,EAAG,CAAC,YAAY,CAAC,CAAA,CAAA;AAEjB,IAAA,IAAI,YAAY,MAAQ,EAAA;AACtB,MAAO,OAAA,IAAA,CAAA;AAAA,KACT;AAEA,IAAM,MAAA,UAAA,GAAa,OAAY,KAAA,SAAA,GAAY,CAAI,GAAA,CAAA,CAAA;AAC/C,IAAA,uBACGC,cAAA,CAAAC,WAAA,EAAA;AAAA,MACE,GAAG,SAAA;AAAA,MACJ,GAAA;AAAA,MACA,aAAa,EAAA,IAAA;AAAA,MACb,SAAW,EAAAC,SAAA;AAAA,QACT,YAAa,EAAA;AAAA,QACb;AAAA,UACE,CAAC,YAAa,CAAA,SAAS,CAAI,GAAA,SAAA;AAAA,SAC7B;AAAA,QACA,SAAA;AAAA,OACF;AAAA,MACA,IAAM,EAAA,UAAA;AAAA,MAEL,oBACG,OACG,CAAA,KAAA,CAAM,GAAG,CAAA,CACT,IAAI,CAAC,CAAA,KAAM,CAAE,CAAA,MAAA,CAAO,CAAC,CAAC,CAAA,CACtB,KAAM,CAAA,CAAA,EAAG,CAAC,CACb,GAAA,IAAA;AAAA,KACN,CAAA,CAAA;AAAA,GAEJ;AACF;;;;"}