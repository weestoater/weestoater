'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var core = require('@salt-ds/core');

function useComponentSize(initialWidth) {
  const [size, setSize] = React.useState({ width: initialWidth });
  const ref = React.useRef(null);
  const handleResize = React.useCallback(
    function handleResize2({
      width,
      height
    }) {
      setSize({ width, height });
    },
    []
  );
  core.useIsomorphicLayoutEffect(() => {
    if (!ref.current) {
      if (process.env.NODE_ENV !== "production") {
        throw new Error(
          "ref returned by useComponentSize was not assigned to a component"
        );
      }
      return;
    }
    handleResize(ref.current.getBoundingClientRect());
    const observer = new ResizeObserver(
      (observerEntries) => {
        handleResize(observerEntries[0].contentRect);
      }
    );
    observer.observe(ref.current);
    return () => {
      observer.disconnect();
    };
  }, [handleResize]);
  return [ref, size];
}

exports.useComponentSize = useComponentSize;
//# sourceMappingURL=useComponentSize.js.map
