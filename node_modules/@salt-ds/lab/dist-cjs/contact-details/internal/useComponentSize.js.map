{"version":3,"file":"useComponentSize.js","sources":["../src/contact-details/internal/useComponentSize.ts"],"sourcesContent":["import { MutableRefObject, useCallback, useRef, useState } from \"react\";\nimport { useIsomorphicLayoutEffect } from \"@salt-ds/core\";\n\nexport interface ComponentSize {\n  height?: number;\n  width: number;\n}\n\nexport function useComponentSize<T extends HTMLElement>(\n  initialWidth: number\n): [MutableRefObject<T | null>, ComponentSize] {\n  const [size, setSize] = useState<ComponentSize>({ width: initialWidth });\n  const ref = useRef<T>(null);\n\n  const handleResize = useCallback(function handleResize({\n    width,\n    height,\n  }: DOMRect) {\n    setSize({ width, height });\n  },\n  []);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!ref.current) {\n      if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(\n          \"ref returned by useComponentSize was not assigned to a component\"\n        );\n      }\n      return;\n    }\n    handleResize(ref.current.getBoundingClientRect());\n    const observer = new ResizeObserver(\n      (observerEntries: ResizeObserverEntry[]) => {\n        handleResize(observerEntries[0].contentRect);\n      }\n    );\n    observer.observe(ref.current);\n    return () => {\n      observer.disconnect();\n    };\n  }, [handleResize]);\n\n  return [ref, size];\n}\n"],"names":["useState","useRef","useCallback","handleResize","useIsomorphicLayoutEffect"],"mappings":";;;;;;;AAQO,SAAS,iBACd,YAC6C,EAAA;AAC7C,EAAM,MAAA,CAAC,MAAM,OAAO,CAAA,GAAIA,eAAwB,EAAE,KAAA,EAAO,cAAc,CAAA,CAAA;AACvE,EAAM,MAAA,GAAA,GAAMC,aAAU,IAAI,CAAA,CAAA;AAE1B,EAAA,MAAM,YAAe,GAAAC,iBAAA;AAAA,IAAY,SAASC,aAAa,CAAA;AAAA,MACrD,KAAA;AAAA,MACA,MAAA;AAAA,KACU,EAAA;AACV,MAAQ,OAAA,CAAA,EAAE,KAAO,EAAA,MAAA,EAAQ,CAAA,CAAA;AAAA,KAC3B;AAAA,IACA,EAAC;AAAA,GAAC,CAAA;AAEF,EAAAC,8BAAA,CAA0B,MAAM;AAC9B,IAAI,IAAA,CAAC,IAAI,OAAS,EAAA;AAChB,MAAI,IAAA,OAAA,CAAQ,GAAI,CAAA,QAAA,KAAa,YAAc,EAAA;AACzC,QAAA,MAAM,IAAI,KAAA;AAAA,UACR,kEAAA;AAAA,SACF,CAAA;AAAA,OACF;AACA,MAAA,OAAA;AAAA,KACF;AACA,IAAa,YAAA,CAAA,GAAA,CAAI,OAAQ,CAAA,qBAAA,EAAuB,CAAA,CAAA;AAChD,IAAA,MAAM,WAAW,IAAI,cAAA;AAAA,MACnB,CAAC,eAA2C,KAAA;AAC1C,QAAa,YAAA,CAAA,eAAA,CAAgB,GAAG,WAAW,CAAA,CAAA;AAAA,OAC7C;AAAA,KACF,CAAA;AACA,IAAS,QAAA,CAAA,OAAA,CAAQ,IAAI,OAAO,CAAA,CAAA;AAC5B,IAAA,OAAO,MAAM;AACX,MAAA,QAAA,CAAS,UAAW,EAAA,CAAA;AAAA,KACtB,CAAA;AAAA,GACF,EAAG,CAAC,YAAY,CAAC,CAAA,CAAA;AAEjB,EAAO,OAAA,CAAC,KAAK,IAAI,CAAA,CAAA;AACnB;;;;"}