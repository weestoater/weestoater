{"version":3,"file":"useWidth.js","sources":["../src/list-deprecated/internal/useWidth.ts"],"sourcesContent":["import { useIsomorphicLayoutEffect } from \"@salt-ds/core\";\nimport { RefObject, useCallback, useRef, useState } from \"react\";\n\nexport function useWidth<Element extends HTMLElement>(\n  responsive: boolean\n): [RefObject<Element>, number] {\n  const [width, setWidth] = useState<number>();\n  const ref = useRef<Element>();\n\n  const handleResize = useCallback(function handleResize(contentRect: DOMRect) {\n    setWidth(contentRect.width);\n  }, []);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!ref.current) {\n      return undefined;\n    }\n\n    handleResize(ref.current.getBoundingClientRect());\n\n    if (responsive) {\n      const observer = new ResizeObserver(\n        ([{ contentRect }]: ResizeObserverEntry[]) => {\n          handleResize(contentRect);\n        }\n      );\n      observer.observe(ref.current);\n\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [handleResize, responsive]);\n\n  return [ref, width] as [RefObject<Element>, number];\n}\n"],"names":["useState","useRef","useCallback","handleResize","useIsomorphicLayoutEffect"],"mappings":";;;;;;;AAGO,SAAS,SACd,UAC8B,EAAA;AAC9B,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIA,cAAiB,EAAA,CAAA;AAC3C,EAAA,MAAM,MAAMC,YAAgB,EAAA,CAAA;AAE5B,EAAA,MAAM,YAAe,GAAAC,iBAAA,CAAY,SAASC,aAAAA,CAAa,WAAsB,EAAA;AAC3E,IAAA,QAAA,CAAS,YAAY,KAAK,CAAA,CAAA;AAAA,GAC5B,EAAG,EAAE,CAAA,CAAA;AAEL,EAAAC,8BAAA,CAA0B,MAAM;AAC9B,IAAI,IAAA,CAAC,IAAI,OAAS,EAAA;AAChB,MAAO,OAAA,KAAA,CAAA,CAAA;AAAA,KACT;AAEA,IAAa,YAAA,CAAA,GAAA,CAAI,OAAQ,CAAA,qBAAA,EAAuB,CAAA,CAAA;AAEhD,IAAA,IAAI,UAAY,EAAA;AACd,MAAA,MAAM,WAAW,IAAI,cAAA;AAAA,QACnB,CAAC,CAAC,EAAE,WAAA,EAAa,CAA6B,KAAA;AAC5C,UAAA,YAAA,CAAa,WAAW,CAAA,CAAA;AAAA,SAC1B;AAAA,OACF,CAAA;AACA,MAAS,QAAA,CAAA,OAAA,CAAQ,IAAI,OAAO,CAAA,CAAA;AAE5B,MAAA,OAAO,MAAM;AACX,QAAA,QAAA,CAAS,UAAW,EAAA,CAAA;AAAA,OACtB,CAAA;AAAA,KACF;AAAA,GACC,EAAA,CAAC,YAAc,EAAA,UAAU,CAAC,CAAA,CAAA;AAE7B,EAAO,OAAA,CAAC,KAAK,KAAK,CAAA,CAAA;AACpB;;;;"}