'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var jsxRuntime = require('react/jsx-runtime');
var React = require('react');
var TabPanel = require('./TabPanel.js');

const useItemsWithIds = (children, id = "root") => {
  const normalizeItems = React.useCallback(
    (items) => {
      const sourceMap2 = {};
      const tabDescriptors = React.Children.toArray(items).filter(React.isValidElement).map((child, index) => {
        const {
          "data-label": dataLabel = `Tab ${index + 1}`,
          enableClose: closeable,
          label = dataLabel
        } = child.props;
        const tabId = `${id}-${index}`;
        const tabPanelId = `${tabId}-panel`;
        const props = {
          "aria-labelledby": tabId,
          id: tabPanelId,
          key: tabId
        };
        const element = child.type === TabPanel.TabPanel ? React.cloneElement(child, props) : /* @__PURE__ */ jsxRuntime.jsx(TabPanel.TabPanel, {
          ...props,
          label,
          children: child
        });
        const tab = {
          closeable,
          element,
          id: tabId,
          label
        };
        sourceMap2[tabId] = tab;
        return tab;
      });
      return [tabDescriptors, sourceMap2];
    },
    [id]
  );
  const [sourceWithIds, sourceMap] = React.useMemo(() => {
    return normalizeItems(children);
  }, [normalizeItems, children]);
  const itemById = React.useCallback(
    (id2) => sourceMap[id2],
    [sourceWithIds, sourceMap]
  );
  return [sourceWithIds, itemById];
};

exports.useItemsWithIds = useItemsWithIds;
//# sourceMappingURL=useItemsWithIds.js.map
