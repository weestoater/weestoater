{"version":3,"file":"Tabs.js","sources":["../src/tabs/Tabs.tsx"],"sourcesContent":["import {\n  ForwardedRef,\n  forwardRef,\n  useCallback,\n  useImperativeHandle,\n  useRef,\n} from \"react\";\nimport { clsx } from \"clsx\";\nimport { makePrefixer } from \"@salt-ds/core\";\nimport { useTabs } from \"./useTabs\";\nimport { Tabstrip } from \"./Tabstrip\";\nimport { FocusAPI, TabstripProps } from \"./TabsTypes\";\n\nimport { useWindow } from \"@salt-ds/window\";\nimport { useComponentCssInjection } from \"@salt-ds/styles\";\n\nimport tabsCss from \"./Tabs.css\";\n\nconst withBaseName = makePrefixer(\"saltTabs\");\n\nexport type TabsProps = Omit<TabstripProps, \"defaultSource\">;\n\nexport const Tabs = forwardRef(function Tabs(\n  {\n    activeTabIndex: activeTabIndexProp,\n    allowDragDrop,\n    centered,\n    children,\n    className,\n    defaultActiveTabIndex,\n    editing,\n    enableAddTab,\n    enableCloseTab,\n    enableRenameTab,\n    onActiveChange: onActiveChangeProp,\n    onAddTab,\n    onCloseTab,\n    onEnterEditMode,\n    onExitEditMode,\n    onMoveTab,\n    overflowMenu,\n    variant,\n    ...htmlAttributes\n  }: TabsProps,\n  forwardedRef: ForwardedRef<FocusAPI>\n) {\n  const targetWindow = useWindow();\n  useComponentCssInjection({\n    testId: \"salt-tabs\",\n    css: tabsCss,\n    window: targetWindow,\n  });\n\n  const tabstripRef = useRef<HTMLDivElement>(null);\n  useImperativeHandle(\n    forwardedRef,\n    () =>\n      ({\n        focus: () => tabstripRef.current?.focus(),\n      } as FocusAPI),\n    []\n  );\n\n  const { id, onActiveChange, activeTabIndex, tabPanel, tabs } = useTabs({\n    activeTabIndex: activeTabIndexProp,\n    children,\n    defaultActiveTabIndex,\n    onActiveChange: onActiveChangeProp,\n  });\n\n  const tabstripProps = {\n    activeTabIndex,\n    allowDragDrop,\n    centered,\n    editing,\n    variant,\n    enableAddTab,\n    enableCloseTab,\n    enableRenameTab,\n    onAddTab,\n    onCloseTab,\n    onEnterEditMode,\n    onExitEditMode,\n    onMoveTab,\n    overflowMenu,\n  };\n  const getTabPanelId = useCallback(\n    (tabIndex: number) => {\n      if (tabIndex === activeTabIndex) {\n        return `${id}-${tabIndex}-panel`;\n      }\n    },\n    [id, activeTabIndex]\n  );\n\n  // TODO need to inject aria-controls\n  return (\n    <div\n      {...htmlAttributes}\n      className={clsx(withBaseName(), className)}\n      id={`${id}-tabs`}\n    >\n      <Tabstrip\n        {...tabstripProps}\n        id={id}\n        onActiveChange={onActiveChange}\n        ref={tabstripRef}\n        source={tabs}\n      />\n      {tabPanel}\n    </div>\n  );\n});\n"],"names":["makePrefixer","forwardRef","Tabs","useWindow","useComponentCssInjection","tabsCss","useRef","useImperativeHandle","useTabs","useCallback","jsxs","clsx","jsx","Tabstrip"],"mappings":";;;;;;;;;;;;;;AAkBA,MAAM,YAAA,GAAeA,kBAAa,UAAU,CAAA,CAAA;AAI/B,MAAA,IAAA,GAAOC,gBAAW,CAAA,SAASC,KACtC,CAAA;AAAA,EACE,cAAgB,EAAA,kBAAA;AAAA,EAChB,aAAA;AAAA,EACA,QAAA;AAAA,EACA,QAAA;AAAA,EACA,SAAA;AAAA,EACA,qBAAA;AAAA,EACA,OAAA;AAAA,EACA,YAAA;AAAA,EACA,cAAA;AAAA,EACA,eAAA;AAAA,EACA,cAAgB,EAAA,kBAAA;AAAA,EAChB,QAAA;AAAA,EACA,UAAA;AAAA,EACA,eAAA;AAAA,EACA,cAAA;AAAA,EACA,SAAA;AAAA,EACA,YAAA;AAAA,EACA,OAAA;AAAA,EACG,GAAA,cAAA;AACL,CAAA,EACA,YACA,EAAA;AACA,EAAA,MAAM,eAAeC,gBAAU,EAAA,CAAA;AAC/B,EAAyBC,+BAAA,CAAA;AAAA,IACvB,MAAQ,EAAA,WAAA;AAAA,IACR,GAAK,EAAAC,MAAA;AAAA,IACL,MAAQ,EAAA,YAAA;AAAA,GACT,CAAA,CAAA;AAED,EAAM,MAAA,WAAA,GAAcC,aAAuB,IAAI,CAAA,CAAA;AAC/C,EAAAC,yBAAA;AAAA,IACE,YAAA;AAAA,IACA,OACG;AAAA,MACC,OAAO,MAAG;AA1DlB,QAAA,IAAA,EAAA,CAAA;AA0DqB,QAAA,OAAA,CAAA,EAAA,GAAA,WAAA,CAAY,YAAZ,IAAqB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAA,EAAA,CAAA;AAAA,OAAA;AAAA,KACpC,CAAA;AAAA,IACF,EAAC;AAAA,GACH,CAAA;AAEA,EAAA,MAAM,EAAE,EAAI,EAAA,cAAA,EAAgB,gBAAgB,QAAU,EAAA,IAAA,KAASC,eAAQ,CAAA;AAAA,IACrE,cAAgB,EAAA,kBAAA;AAAA,IAChB,QAAA;AAAA,IACA,qBAAA;AAAA,IACA,cAAgB,EAAA,kBAAA;AAAA,GACjB,CAAA,CAAA;AAED,EAAA,MAAM,aAAgB,GAAA;AAAA,IACpB,cAAA;AAAA,IACA,aAAA;AAAA,IACA,QAAA;AAAA,IACA,OAAA;AAAA,IACA,OAAA;AAAA,IACA,YAAA;AAAA,IACA,cAAA;AAAA,IACA,eAAA;AAAA,IACA,QAAA;AAAA,IACA,UAAA;AAAA,IACA,eAAA;AAAA,IACA,cAAA;AAAA,IACA,SAAA;AAAA,IACA,YAAA;AAAA,GACF,CAAA;AACA,EAAsBC,iBAAA;AAAA,IACpB,CAAC,QAAqB,KAAA;AACpB,MAAA,IAAI,aAAa,cAAgB,EAAA;AAC/B,QAAA,OAAO,GAAG,EAAM,CAAA,CAAA,EAAA,QAAA,CAAA,MAAA,CAAA,CAAA;AAAA,OAClB;AAAA,KACF;AAAA,IACA,CAAC,IAAI,cAAc,CAAA;AAAA,IACrB;AAGA,EAAA,uBACGC,eAAA,CAAA,KAAA,EAAA;AAAA,IACE,GAAG,cAAA;AAAA,IACJ,SAAW,EAAAC,SAAA,CAAK,YAAa,EAAA,EAAG,SAAS,CAAA;AAAA,IACzC,IAAI,CAAG,EAAA,EAAA,CAAA,KAAA,CAAA;AAAA,IAEP,QAAA,EAAA;AAAA,sBAACC,cAAA,CAAAC,iBAAA,EAAA;AAAA,QACE,GAAG,aAAA;AAAA,QACJ,EAAA;AAAA,QACA,cAAA;AAAA,QACA,GAAK,EAAA,WAAA;AAAA,QACL,MAAQ,EAAA,IAAA;AAAA,OACV,CAAA;AAAA,MACC,QAAA;AAAA,KAAA;AAAA,GACH,CAAA,CAAA;AAEJ,CAAC;;;;"}