'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var core = require('@salt-ds/core');

function useOverflowDetection(dependencies = []) {
  const targetRef = React.useRef(null);
  const [isOverflowed, setOverflowed] = React.useState(false);
  const handleResize = React.useCallback(
    core.debounce(() => {
      const { current } = targetRef;
      if (!current) {
        isOverflowed && setOverflowed(false);
        return;
      }
      setOverflowed(current.offsetWidth < current.scrollWidth);
    }),
    [targetRef, isOverflowed]
  );
  core.useIsomorphicLayoutEffect(() => {
    const win = core.ownerWindow(targetRef.current);
    win.addEventListener("resize", handleResize);
    return () => {
      handleResize.clear();
      win.removeEventListener("resize", handleResize);
    };
  }, [targetRef, handleResize]);
  core.useIsomorphicLayoutEffect(handleResize, dependencies);
  return [targetRef, isOverflowed];
}

exports.useOverflowDetection = useOverflowDetection;
//# sourceMappingURL=useOverflowDetection.js.map
